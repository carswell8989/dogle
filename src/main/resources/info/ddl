-- 테이블 순서는 관계를 고려하여 한 번에 실행해도 에러가 발생하지 않게 정렬되었습니다.

-- 테이블 전체삭제문. 테이블이 없는 경우 해당 쿼리가 수행되지 않도록 하면 됩니다.(에러남) 
SET @tables = NULL;
SELECT GROUP_CONCAT(table_schema, '.', table_name) INTO @tables
  FROM information_schema.tables
  WHERE table_schema = 'dogle'; -- specify DB name here.

SET @tables = CONCAT('DROP TABLE ', @tables);
PREPARE stmt FROM @tables;
EXECUTE stmt;
DEALLOCATE PREPARE stmt;
-- 여기까지


-- 테이블 순서는 관계를 고려하여 한 번에 실행해도 에러가 발생하지 않게 정렬되었습니다.

-- HOTEL Table Create SQL
CREATE TABLE HOTEL
(
    `HOTEL_NO`     INT            NOT NULL    AUTO_INCREMENT COMMENT '호텔번호', 
    `HOTEL_NAME`   VARCHAR(45)    NOT NULL    COMMENT '호텔명', 
    `HOTEL_CDV`    VARCHAR(45)    NOT NULL    COMMENT '호텔 우편번호', 
    `HOTEL_CV`     VARCHAR(45)    NOT NULL    COMMENT '호텔 주소', 
    `HOTEL_CCV`    VARCHAR(45)    NOT NULL    COMMENT '호텔 주소 상세', 
    `CONTACT_NO1`  VARCHAR(45)    NOT NULL    COMMENT '호텔 연락처1', 
    `CONTACT_NO2`  VARCHAR(45)    NULL        COMMENT '호텔 연락처2', 
    `START_DATE`   DATETIME       NULL        COMMENT '영업시작일', 
    `REG_DATE`     DATETIME       NOT NULL    COMMENT '등록일', 
    `BIG_YN`       CHAR(1)        NULL        COMMENT '대형견 가능여부', 
    `MEDIUM_YN`    CHAR(1)        NULL        COMMENT '중형견 가능여부', 
    `SMALL_YN`     CHAR(1)        NULL        COMMENT '소형견 가능여부', 
    PRIMARY KEY (HOTEL_NO)
);

ALTER TABLE HOTEL COMMENT '호텔 마스터 정보 테이블';


-- HOTEL Table Create SQL
CREATE TABLE MEMBER_
(
    `MEMBER_ID`               VARCHAR(45)      NOT NULL    COMMENT '회원아이디', 
    `PASSWORD`                VARCHAR(200)     NOT NULL    COMMENT '비밀번호', 
    `NICK_NAME`               VARCHAR(45)      NOT NULL    COMMENT '닉네임', 
    `MEMBER_NAME`             VARCHAR(45)      NOT NULL    COMMENT '이름', 
    `BIRTH`                   VARCHAR(8)       NOT NULL    COMMENT '생년월일', 
    `CDV`                     VARCHAR(45)      NOT NULL    COMMENT '우편번호', 
    `CV`                      VARCHAR(100)     NOT NULL    COMMENT '주소', 
    `CCV`                     VARCHAR(100)     NOT NULL    COMMENT '주소상세', 
    `MOBILE_NUMBER`           VARCHAR(45)      NOT NULL    COMMENT '핸드폰번호', 
    `MEMBER_INFO`             VARCHAR(2000)    NULL        COMMENT '자기소개', 
    `REG_DATE`                DATETIME         NOT NULL    COMMENT '등록일', 
    `MANAGER_YN`              CHAR(1)          NOT NULL    COMMENT '관리자여부', 
    `WITHDRAW_YN`             CHAR(1)          NOT NULL    COMMENT '탈퇴여부', 
    `WITHDRAW_CODE`           VARCHAR(4)       NOT NULL    COMMENT '탈퇴사유코드', 
    `PERSONAL_INFO_YN`        CHAR(1)          NOT NULL    COMMENT '개인정보동의여부', 
    `PERSONAL_INFO_REG_DATE`  DATETIME         NOT NULL    COMMENT '동의일자', 
    PRIMARY KEY (MEMBER_ID)
);

ALTER TABLE MEMBER_ COMMENT '회원';


-- HOTEL Table Create SQL
CREATE TABLE HOTEL_ROOM_INFO
(
    `DETAIL_NO`   INT               NOT NULL    AUTO_INCREMENT COMMENT '객실정보 일련번호', 
    `HOTEL_NO`    INT               NOT NULL    COMMENT '호텔번호', 
    `ROOM_NAME`   VARCHAR(45)       NOT NULL    COMMENT '객실번호(명)', 
    `ROOM_SIZE`   VARCHAR(45)       NOT NULL    COMMENT '크기', 
    `ROOM_PRICE`  DECIMAL(18, 0)    NOT NULL    COMMENT '가격(1박)', 
    `ROOM_LOC`    VARCHAR(45)       NOT NULL    COMMENT '층수', 
    `POB_SIZE`    VARCHAR(45)       NULL        COMMENT '이용가능 애견크기', 
    PRIMARY KEY (DETAIL_NO)
);

ALTER TABLE HOTEL_ROOM_INFO COMMENT '호텔 객실정보';

ALTER TABLE HOTEL_ROOM_INFO
    ADD CONSTRAINT FK_HOTEL_ROOM_INFO_HOTEL_NO_HOTEL_HOTEL_NO FOREIGN KEY (HOTEL_NO)
        REFERENCES HOTEL (HOTEL_NO) ON DELETE RESTRICT ON UPDATE RESTRICT;


-- HOTEL Table Create SQL
CREATE TABLE PET_INFO
(
    `PET_NO`            INT             NOT NULL    AUTO_INCREMENT COMMENT '애견 일련번호', 
    `MEMBER_ID`         VARCHAR(45)     NULL        COMMENT '회원아이디', 
    `PET_NAME`          VARCHAR(45)     NULL        COMMENT '애견명', 
    `PET_AGE`           INT             NOT NULL    COMMENT '나이', 
    `PET_SIZE_KIND_CD`  VARCHAR(4)      NULL        COMMENT '애견크기', 
    `PET_LIKE`          VARCHAR(200)    NULL        COMMENT '소개', 
    PRIMARY KEY (PET_NO)
);

ALTER TABLE PET_INFO COMMENT '애견정보';

ALTER TABLE PET_INFO
    ADD CONSTRAINT FK_PET_INFO_MEMBER_ID_MEMBER__MEMBER_ID FOREIGN KEY (MEMBER_ID)
        REFERENCES MEMBER_ (MEMBER_ID) ON DELETE RESTRICT ON UPDATE RESTRICT;


-- HOTEL Table Create SQL
CREATE TABLE PET_PIC
(
    `FILE_NO`    INT            NULL        AUTO_INCREMENT COMMENT '파일번호', 
    `PET_NO`     INT            NULL        COMMENT '애견 일련번호', 
    `FILE_DIR`   VARCHAR(45)    NOT NULL    COMMENT '파일경로', 
    `FILE_SIZE`  VARCHAR(45)    NOT NULL    COMMENT '파일사이즈', 
    `REG_DATE`   DATETIME       NOT NULL    COMMENT '등록일', 
    PRIMARY KEY (FILE_NO)
);

ALTER TABLE PET_PIC COMMENT '애견사진';

ALTER TABLE PET_PIC
    ADD CONSTRAINT FK_PET_PIC_PET_NO_PET_INFO_PET_NO FOREIGN KEY (PET_NO)
        REFERENCES PET_INFO (PET_NO) ON DELETE RESTRICT ON UPDATE RESTRICT;


-- HOTEL Table Create SQL
CREATE TABLE HOTEL_REVIEW
(
    `REVIEW_NO`       INT              NOT NULL    AUTO_INCREMENT COMMENT '리뷰일련번호', 
    `MEMBER_ID`       VARCHAR(45)      NOT NULL    COMMENT '회원아이디', 
    `RSV_NO`          INT              NOT NULL    COMMENT '예약번호', 
    `HOTEL_NO`        INT              NOT NULL    COMMENT '호텔번호', 
    `DETAIL_NO`       INT              NULL        COMMENT '객실정보 일련번호', 
    `REVIEW_TITLE`    VARCHAR(45)      NOT NULL    COMMENT '리뷰제목', 
    `REVIEW_CONTENT`  VARCHAR(2000)    NOT NULL    COMMENT '리뷰내용', 
    `DEL_YN`          CHAR(1)          NULL        COMMENT '삭제여부', 
    PRIMARY KEY (REVIEW_NO)
);

ALTER TABLE HOTEL_REVIEW COMMENT '호텔리뷰';

ALTER TABLE HOTEL_REVIEW
    ADD CONSTRAINT FK_HOTEL_REVIEW_MEMBER_ID_MEMBER__MEMBER_ID FOREIGN KEY (MEMBER_ID)
        REFERENCES MEMBER_ (MEMBER_ID) ON DELETE RESTRICT ON UPDATE RESTRICT;

ALTER TABLE HOTEL_REVIEW
    ADD CONSTRAINT FK_HOTEL_REVIEW_HOTEL_NO_HOTEL_HOTEL_NO FOREIGN KEY (HOTEL_NO)
        REFERENCES HOTEL (HOTEL_NO) ON DELETE RESTRICT ON UPDATE RESTRICT;

ALTER TABLE HOTEL_REVIEW
    ADD CONSTRAINT FK_HOTEL_REVIEW_DETAIL_NO_HOTEL_ROOM_INFO_DETAIL_NO FOREIGN KEY (DETAIL_NO)
        REFERENCES HOTEL_ROOM_INFO (DETAIL_NO) ON DELETE RESTRICT ON UPDATE RESTRICT;


-- HOTEL Table Create SQL
CREATE TABLE RESERVATION
(
    `RSV_NO`             INT            NOT NULL    AUTO_INCREMENT COMMENT '예약번호', 
    `MEMBER_ID`          VARCHAR(45)    NOT NULL    COMMENT '회원 아이디', 
    `HOTEL_NO`           INT            NOT NULL    COMMENT '호텔 번호', 
    `DETAIL_NO`          INT            NULL        COMMENT '객실정보 일련번호', 
    `RSV_REG_NAME`       VARCHAR(45)    NOT NULL    COMMENT '예약자명', 
    `CHK_IN_DATE`        VARCHAR(8)     NOT NULL    COMMENT '숙박시작일', 
    `CHK_OUT_DATE`       VARCHAR(8)     NOT NULL    COMMENT '숙박종료일', 
    `RSV_CONTACT`        VARCHAR(45)    NOT NULL    COMMENT '연락처', 
    `RSV_PROG_CODE`      VARCHAR(4)     NOT NULL    COMMENT '예약진행상태', 
    `RSV_PAY_PROG_CODE`  VARCHAR(4)     NOT NULL    COMMENT '결제진행상태', 
    `REG_DATE`           DATETIME       NULL        COMMENT '예약등록일', 
    `CAN_YN`             CHAR(1)        NULL        COMMENT '취소여부', 
    PRIMARY KEY (RSV_NO)
);

ALTER TABLE RESERVATION COMMENT '예약';

ALTER TABLE RESERVATION
    ADD CONSTRAINT FK_RESERVATION_MEMBER_ID_MEMBER__MEMBER_ID FOREIGN KEY (MEMBER_ID)
        REFERENCES MEMBER_ (MEMBER_ID) ON DELETE RESTRICT ON UPDATE RESTRICT;

ALTER TABLE RESERVATION
    ADD CONSTRAINT FK_RESERVATION_HOTEL_NO_HOTEL_HOTEL_NO FOREIGN KEY (HOTEL_NO)
        REFERENCES HOTEL (HOTEL_NO) ON DELETE RESTRICT ON UPDATE RESTRICT;

ALTER TABLE RESERVATION
    ADD CONSTRAINT FK_RESERVATION_DETAIL_NO_HOTEL_ROOM_INFO_DETAIL_NO FOREIGN KEY (DETAIL_NO)
        REFERENCES HOTEL_ROOM_INFO (DETAIL_NO) ON DELETE RESTRICT ON UPDATE RESTRICT;


-- HOTEL Table Create SQL
CREATE TABLE FREE_BOARD
(
    `TEXT_NO`    INT            NOT NULL    AUTO_INCREMENT COMMENT '글번호', 
    `MEMBER_ID`  VARCHAR(45)    NULL        COMMENT '작성자 ID', 
    `TITLE`      VARCHAR(45)    NULL        COMMENT '제목', 
    `CONTENT`    VARCHAR(45)    NULL        COMMENT '내용', 
    `REG_DATE`   DATETIME       NULL        COMMENT '등록일', 
    `DEL_YN`     CHAR(1)        NULL        COMMENT '삭제여부', 
    PRIMARY KEY (TEXT_NO)
);

ALTER TABLE FREE_BOARD COMMENT '자유게시판';

ALTER TABLE FREE_BOARD
    ADD CONSTRAINT FK_FREE_BOARD_MEMBER_ID_MEMBER__MEMBER_ID FOREIGN KEY (MEMBER_ID)
        REFERENCES MEMBER_ (MEMBER_ID) ON DELETE RESTRICT ON UPDATE RESTRICT;


-- HOTEL Table Create SQL
CREATE TABLE FREE_BOARD_REPLY
(
    `REPLY_NO`     INT             NOT NULL    AUTO_INCREMENT COMMENT '댓글번호', 
    `TEXT_NO`      INT             NOT NULL    COMMENT '글번호', 
    `RE_REPLY_NO`  INT             NULL        COMMENT '댓글번호', 
    `MEMBER_ID`    VARCHAR(45)     NOT NULL    COMMENT '작성자ID', 
    `CONTENT`      VARCHAR(500)    NOT NULL    COMMENT '댓글내용', 
    `REG_DATE`     VARCHAR(45)     NOT NULL    COMMENT '등록일', 
    `DEPTH`        VARCHAR(45)     NOT NULL    COMMENT '댓글깊이', 
    `DEL_YN`       CHAR(1)         NULL        COMMENT '삭제여부', 
    PRIMARY KEY (REPLY_NO)
);

ALTER TABLE FREE_BOARD_REPLY
    ADD CONSTRAINT FK_FREE_BOARD_REPLY_TEXT_NO_FREE_BOARD_TEXT_NO FOREIGN KEY (TEXT_NO)
        REFERENCES FREE_BOARD (TEXT_NO) ON DELETE RESTRICT ON UPDATE RESTRICT;

ALTER TABLE FREE_BOARD_REPLY
    ADD CONSTRAINT FK_FREE_BOARD_REPLY_RE_REPLY_NO_FREE_BOARD_REPLY_REPLY_NO FOREIGN KEY (RE_REPLY_NO)
        REFERENCES FREE_BOARD_REPLY (REPLY_NO) ON DELETE RESTRICT ON UPDATE RESTRICT;

ALTER TABLE FREE_BOARD_REPLY
    ADD CONSTRAINT FK_FREE_BOARD_REPLY_MEMBER_ID_MEMBER__MEMBER_ID FOREIGN KEY (MEMBER_ID)
        REFERENCES MEMBER_ (MEMBER_ID) ON DELETE RESTRICT ON UPDATE RESTRICT;


-- HOTEL Table Create SQL
CREATE TABLE FAVORITE
(
    `MEMBER_ID`   VARCHAR(45)    NOT NULL    COMMENT '회원아이디', 
    `HOTEL_NAME`  INT            NOT NULL    COMMENT '호텔번호', 
    `REG_DATE`    DATETIME       NOT NULL    COMMENT '등록일'
);

ALTER TABLE FAVORITE COMMENT '즐겨찾기';

ALTER TABLE FAVORITE
    ADD CONSTRAINT FK_FAVORITE_MEMBER_ID_MEMBER__MEMBER_ID FOREIGN KEY (MEMBER_ID)
        REFERENCES MEMBER_ (MEMBER_ID) ON DELETE RESTRICT ON UPDATE RESTRICT;

ALTER TABLE FAVORITE
    ADD CONSTRAINT FK_FAVORITE_HOTEL_NAME_HOTEL_HOTEL_NO FOREIGN KEY (HOTEL_NAME)
        REFERENCES HOTEL (HOTEL_NO) ON DELETE RESTRICT ON UPDATE RESTRICT;


-- HOTEL Table Create SQL
CREATE TABLE HOTEL_PIC
(
    `FILE_NO`    INT            NOT NULL    AUTO_INCREMENT COMMENT '파일번호', 
    `HOTEL_NO`   INT            NOT NULL    COMMENT '호텔번호', 
    `DETAIL_NO`  INT            NULL        COMMENT '객실정보 일련번호', 
    `FILE_DIR`   VARCHAR(45)    NOT NULL    COMMENT '파일경로', 
    `FILE_SIZE`  VARCHAR(45)    NOT NULL    COMMENT '파일사이즈', 
    `REG_DATE`   DATETIME       NOT NULL    COMMENT '등록일', 
    PRIMARY KEY (FILE_NO)
);

ALTER TABLE HOTEL_PIC COMMENT '호텔사진';

ALTER TABLE HOTEL_PIC
    ADD CONSTRAINT FK_HOTEL_PIC_HOTEL_NO_HOTEL_HOTEL_NO FOREIGN KEY (HOTEL_NO)
        REFERENCES HOTEL (HOTEL_NO) ON DELETE RESTRICT ON UPDATE RESTRICT;

ALTER TABLE HOTEL_PIC
    ADD CONSTRAINT FK_HOTEL_PIC_DETAIL_NO_HOTEL_ROOM_INFO_DETAIL_NO FOREIGN KEY (DETAIL_NO)
        REFERENCES HOTEL_ROOM_INFO (DETAIL_NO) ON DELETE RESTRICT ON UPDATE RESTRICT;


-- HOTEL Table Create SQL
CREATE TABLE COM_CODE
(
    `COM_GRUP_CODE`  VARCHAR(4)      NOT NULL    COMMENT '공통그룹코드', 
    `COM_CODE`       VARCHAR(4)      NOT NULL    COMMENT '공통코드', 
    `CODE_VALUE`     VARCHAR(100)    NOT NULL    COMMENT '코드값', 
    PRIMARY KEY (COM_GRUP_CODE, COM_CODE)
);

ALTER TABLE COM_CODE COMMENT '공통코드';


-- HOTEL Table Create SQL
CREATE TABLE RSV_PET_MAPP
(
    `RSV_NO`  INT    NOT NULL    COMMENT '예약번호', 
    `PET_NO`  INT    NOT NULL    COMMENT '애견 일련번호', 
    PRIMARY KEY (RSV_NO, PET_NO)
);

ALTER TABLE RSV_PET_MAPP COMMENT '예약 애견 매핑';

ALTER TABLE RSV_PET_MAPP
    ADD CONSTRAINT FK_RSV_PET_MAPP_PET_NO_PET_PIC_PET_NO FOREIGN KEY (PET_NO)
        REFERENCES PET_PIC (PET_NO) ON DELETE RESTRICT ON UPDATE RESTRICT;


-- HOTEL Table Create SQL
CREATE TABLE HOTEL_GRADE
(
    `REVIEW_NO`  INT              NOT NULL    COMMENT '리뷰일련번호', 
    `HOTEL_NO`   INT              NOT NULL    COMMENT '호텔번호', 
    `SVC`        INT              NOT NULL    COMMENT '서비스', 
    `PRC`        INT              NOT NULL    COMMENT '가격', 
    `FCL`        INT              NOT NULL    COMMENT '시설', 
    `ACS`        INT              NOT NULL    COMMENT '접근성', 
    `ENV`        INT              NOT NULL    COMMENT '환경', 
    `SVC_DTL`    VARCHAR(1000)    NULL        COMMENT '서비스상세', 
    `PRC_DTL`    VARCHAR(1000)    NULL        COMMENT '가격상세', 
    `FCL_DTL`    VARCHAR(1000)    NULL        COMMENT '시설상세', 
    `ACS_DTL`    VARCHAR(1000)    NULL        COMMENT '접근성상세', 
    `ENV_DTL`    VARCHAR(1000)    NULL        COMMENT '환경상세', 
    `REG_DATE`   DATETIME         NOT NULL    COMMENT '등록일', 
    PRIMARY KEY (REVIEW_NO)
);

ALTER TABLE HOTEL_GRADE COMMENT '호텔 만족도';

ALTER TABLE HOTEL_GRADE
    ADD CONSTRAINT FK_HOTEL_GRADE_HOTEL_NO_HOTEL_HOTEL_NO FOREIGN KEY (HOTEL_NO)
        REFERENCES HOTEL (HOTEL_NO) ON DELETE RESTRICT ON UPDATE RESTRICT;

ALTER TABLE HOTEL_GRADE
    ADD CONSTRAINT FK_HOTEL_GRADE_REVIEW_NO_HOTEL_REVIEW_REVIEW_NO FOREIGN KEY (REVIEW_NO)
        REFERENCES HOTEL_REVIEW (REVIEW_NO) ON DELETE RESTRICT ON UPDATE RESTRICT;


-- HOTEL Table Create SQL
CREATE TABLE HOTEL_DESCRIPTION
(
    `HOTEL_NO`     INT              NOT NULL    AUTO_INCREMENT COMMENT '호텔번호', 
    `HOTEL_INTRO`  VARCHAR(2000)    NOT NULL    COMMENT '내용', 
    PRIMARY KEY (HOTEL_NO)
);

ALTER TABLE HOTEL_DESCRIPTION COMMENT '호텔안내 메시지 (VACHAR형으로 데아터가 커 분리)';

ALTER TABLE HOTEL_DESCRIPTION
    ADD CONSTRAINT FK_HOTEL_DESCRIPTION_HOTEL_NO_HOTEL_HOTEL_NO FOREIGN KEY (HOTEL_NO)
        REFERENCES HOTEL (HOTEL_NO) ON DELETE RESTRICT ON UPDATE RESTRICT;


-- HOTEL Table Create SQL
CREATE TABLE HOTEL_SEARCH_XXXXXX
(
    `SEARCH_NO`  INT    NOT NULL    AUTO_INCREMENT COMMENT '순서', 
    `HOTEL_NO`   INT    NOT NULL    COMMENT '호텔번호', 
    PRIMARY KEY (SEARCH_NO)
);

ALTER TABLE HOTEL_SEARCH_XXXXXX COMMENT '호텔검색 - 조회용';

ALTER TABLE HOTEL_SEARCH_XXXXXX
    ADD CONSTRAINT FK_HOTEL_SEARCH_XXXXXX_HOTEL_NO_HOTEL_HOTEL_NO FOREIGN KEY (HOTEL_NO)
        REFERENCES HOTEL (HOTEL_NO) ON DELETE RESTRICT ON UPDATE RESTRICT;


-- HOTEL Table Create SQL
CREATE TABLE PRMOTION
(
    `PRMO`  INT    NOT NULL    AUTO_INCREMENT COMMENT '프로모션 번호', 
    PRIMARY KEY (PRMO)
);

ALTER TABLE PRMOTION COMMENT '프로모션';


-- HOTEL Table Create SQL
CREATE TABLE PAYMENT
(
    `PAY_NO`         INT               NOT NULL    AUTO_INCREMENT COMMENT '결제번호', 
    `RSV_NO`         INT               NOT NULL    COMMENT '예약번호', 
    `PAY_KIND_CODE`  VARCHAR(45)       NOT NULL    COMMENT '결제종류코드', 
    `PAY_CODE1`      VARCHAR(45)       NOT NULL    COMMENT '결제코드1', 
    `PAY_CODE2`      VARCHAR(45)       NULL        COMMENT '결제코드2', 
    `PAYMENT`        DECIMAL(18, 0)    NOT NULL    COMMENT '결제금액', 
    `REG_DATE`       DATETIME          NOT NULL    COMMENT '결제일', 
    `MEMBER_ID`      VARCHAR(45)       NOT NULL    COMMENT '결제자ID', 
    `FEE_AMT`        DECIMAL(18, 0)    NOT NULL    COMMENT '결제수수료', 
    `TOTAL_AMT`      DECIMAL(18, 0)    NOT NULL    COMMENT '공급가액', 
    `VAT_AMT`        DECIMAL(18, 0)    NOT NULL    COMMENT '부가세', 
    PRIMARY KEY (PAY_NO)
);

ALTER TABLE PAYMENT COMMENT '결제';

ALTER TABLE PAYMENT
    ADD CONSTRAINT FK_PAYMENT_RSV_NO_RESERVATION_RSV_NO FOREIGN KEY (RSV_NO)
        REFERENCES RESERVATION (RSV_NO) ON DELETE RESTRICT ON UPDATE RESTRICT;

ALTER TABLE PAYMENT
    ADD CONSTRAINT FK_PAYMENT_MEMBER_ID_MEMBER__MEMBER_ID FOREIGN KEY (MEMBER_ID)
        REFERENCES MEMBER_ (MEMBER_ID) ON DELETE RESTRICT ON UPDATE RESTRICT;


-- HOTEL Table Create SQL
CREATE TABLE ADJUSTMENT
(
    `ADJ_NO`         INT               NOT NULL    AUTO_INCREMENT COMMENT '정산번호', 
    `HOTEL_NO`       INT               NOT NULL    COMMENT '호텔번호', 
    `ADJ_DATE`       VARCHAR(8)        NOT NULL    COMMENT '정산일자', 
    `ADJ_AMT`        DECIMAL(18, 0)    NOT NULL    COMMENT '정산금액', 
    `ADJ_PROG_CODE`  VARCHAR(45)       NOT NULL    COMMENT '정산진행상태', 
    PRIMARY KEY (ADJ_NO)
);

ALTER TABLE ADJUSTMENT COMMENT '정산';

ALTER TABLE ADJUSTMENT
    ADD CONSTRAINT FK_ADJUSTMENT_HOTEL_NO_HOTEL_HOTEL_NO FOREIGN KEY (HOTEL_NO)
        REFERENCES HOTEL (HOTEL_NO) ON DELETE RESTRICT ON UPDATE RESTRICT;


-- HOTEL Table Create SQL
CREATE TABLE NOTICE
(
    `NOTICE_NO`  INT              NOT NULL    AUTO_INCREMENT COMMENT '공지사항번호', 
    `MEMBER_ID`  VARCHAR(45)      NOT NULL    COMMENT '관리자 ID', 
    `TITLE`      VARCHAR(45)      NOT NULL    COMMENT '제목', 
    `CONTENT`    VARCHAR(2000)    NOT NULL    COMMENT '내용', 
    `TOP_YN`     CHAR(1)          NOT NULL    COMMENT '최상단 노출여부', 
    `REG_DATE`   DATETIME         NOT NULL    COMMENT '등록일', 
    `DEL_YN`     CHAR(1)          NULL        COMMENT '삭제여부', 
    PRIMARY KEY (NOTICE_NO)
);

ALTER TABLE NOTICE COMMENT '공지사항';

ALTER TABLE NOTICE
    ADD CONSTRAINT FK_NOTICE_MEMBER_ID_MEMBER__MEMBER_ID FOREIGN KEY (MEMBER_ID)
        REFERENCES MEMBER_ (MEMBER_ID) ON DELETE RESTRICT ON UPDATE RESTRICT;
        
CREATE TABLE NOTICE_HEAD
(
    `NOTICE_NO`  INT         NOT NULL    COMMENT '공지사항번호', 
    `REG_DATE`   DATETIME    NULL        COMMENT '등록일', 
    PRIMARY KEY (NOTICE_NO)
);

ALTER TABLE NOTICE_HEAD COMMENT '공지사항 상단노출';

ALTER TABLE NOTICE_HEAD
    ADD CONSTRAINT FK_NOTICE_HEAD_NOTICE_NO_NOTICE_NOTICE_NO FOREIGN KEY (NOTICE_NO)
        REFERENCES NOTICE (NOTICE_NO) ON DELETE RESTRICT ON UPDATE RESTRICT;

-- 인덱스 추가
ALTER TABLE MEMBER_ ADD UNIQUE INDEX NICKNAME_INDEX (NICK_NAME); -- 회원 테이블 닉네임 unique index
ALTER TABLE NOTICE ADD INDEX TITLE_INDEX (TITLE); -- 공지사항 테이블 제목 index
